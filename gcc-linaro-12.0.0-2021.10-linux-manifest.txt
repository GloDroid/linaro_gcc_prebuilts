manifest_format=1.6

# Note that for ABE, these parameters are not used
# Component data for dejagnu
dejagnu_url=http://git.linaro.org/git/toolchain
dejagnu_branch=linaro-local/stable
dejagnu_revision=a52a926e39ab80d95799e976c12c59b2b30d2c69
dejagnu_filespec=dejagnu.git
dejagnu_mingw_only="no"
dejagnu_linuxhost_only="no"
dejagnu_staticlink="yes"

# Component data for gmp
gmp_url=http://snapshots.linaro.org/components/toolchain/infrastructure
gmp_filespec=gmp-6.1.2.tar.xz
gmp_md5sum=f58fa8001d60c4c77595fbbb62b63c1d
gmp_mingw_only="no"
gmp_linuxhost_only="no"
gmp_configure="--enable-cxx --enable-fft"
gmp_staticlink="yes"

# Component data for mpfr
mpfr_url=http://snapshots.linaro.org/components/toolchain/infrastructure
mpfr_filespec=mpfr-3.1.5.tar.xz
mpfr_md5sum=c4ac246cf9795a4491e7766002cd528f
mpfr_mingw_only="no"
mpfr_linuxhost_only="no"
mpfr_configure="--with-gmp=${local_builds}/destdir/${host}"
mpfr_staticlink="yes"

# Component data for mpc
mpc_url=http://snapshots.linaro.org/components/toolchain/infrastructure/
mpc_filespec=mpc-1.0.3.tar.gz
mpc_md5sum=d6a1d5f8ddea3abd2cc3e98f58352d26
mpc_mingw_only="no"
mpc_linuxhost_only="no"
mpc_configure="--with-gmp=${local_builds}/destdir/${host} --with-mpfr=${local_builds}/destdir/${host}"
mpc_staticlink="yes"

# Component data for binutils
binutils_url=http://git.linaro.org/git/toolchain
binutils_branch=master
binutils_revision=66468343379e535c6804a075709b5b49b09c6ed8
binutils_filespec=binutils-gdb.git
binutils_mingw_only="no"
binutils_linuxhost_only="no"
binutils_configure="--enable-lto --enable-plugins --enable-gold --disable-werror CPPFLAGS=-UFORTIFY_SOURCE --with-pkgversion=Linaro_Binutils-2021.10 --disable-gdb --disable-sim --disable-libdecnumber --disable-readline --with-sysroot=${local_builds}/destdir/${host}/aarch64-linux-gnu"
binutils_staticlink="yes"

# Component data for linux
linux_url=git://git.kernel.org/pub/scm/linux/kernel/git/stable
linux_branch=linux-rolling-stable
linux_revision=8cc248d5788a83963be1e3462c3ac72421706a17
linux_filespec=linux.git
linux_mingw_only="no"
linux_linuxhost_only="no"
linux_staticlink="yes"

# Component data for expat
expat_url=http://snapshots.linaro.org/components/toolchain/infrastructure/
expat_filespec=expat-2.1.0-1-mingw32-dev.tar.xz
expat_md5sum=1dae54e2670882843d496692154a0e27
expat_mingw_only="yes"
expat_linuxhost_only="no"
expat_staticlink="yes"

# Component data for python
python_url=http://snapshots.linaro.org/components/toolchain/infrastructure/
python_filespec=python-2.7.4-mingw32.tar.xz
python_md5sum=9b3092eff5508c4802936dfe4f5225ef
python_mingw_only="yes"
python_linuxhost_only="no"
python_staticlink="yes"

# Component data for libiconv
libiconv_url=http://snapshots.linaro.org/components/toolchain/infrastructure/
libiconv_filespec=libiconv-1.14-3-mingw32-dev.tar.xz
libiconv_md5sum=7ead614fa3a8bc266e70c6fcdf198219
libiconv_mingw_only="yes"
libiconv_linuxhost_only="no"
libiconv_staticlink="yes"

# Component data for gcc
gcc_url=http://git.linaro.org/git/toolchain
gcc_branch=master
gcc_revision=6496ae5c9651206c9de43f63018a549a2ef2244e
gcc_filespec=gcc.git
gcc_makeflags="MAKEINFOFLAGS=--force"
gcc_mingw_only="no"
gcc_linuxhost_only="no"
gcc_configure=
gcc_mingw_extraconf="--with-libiconv-prefix=${local_builds}/destdir/${host}/usr --with-system-zlib=no"
gcc_staticlink="no"
gcc_stage1_flags="--with-mpc=${local_builds}/destdir/${host} --with-mpfr=${local_builds}/destdir/${host} --with-gmp=${local_builds}/destdir/${host} --with-gnu-as --with-gnu-ld --disable-libmudflap --enable-lto --enable-shared --without-included-gettext --enable-nls --with-system-zlib --disable-sjlj-exceptions --enable-gnu-unique-object --enable-linker-build-id --disable-libstdcxx-pch --enable-c99 --enable-clocale=gnu --enable-libstdcxx-debug --enable-long-long --with-cloog=no --with-ppl=no --with-isl=no --disable-multilib --enable-fix-cortex-a53-835769 --enable-fix-cortex-a53-843419 --with-arch=armv8-a --enable-threads=posix --enable-multiarch --enable-libstdcxx-time=yes --enable-gnu-indirect-function --disable-libssp --disable-libquadmath --disable-threads --without-headers --with-newlib --disable-libmudflap --disable-decimal-float --disable-libgomp --disable-libatomic --disable-libsanitizer --disable-plugins --disable-libitm --enable-languages=c,c++ --disable-libstdcxx --disable-libvtv --disable-shared --with-glibc-version=2.18 --disable-bootstrap"
gcc_stage2_flags="--with-mpc=${local_builds}/destdir/${host} --with-mpfr=${local_builds}/destdir/${host} --with-gmp=${local_builds}/destdir/${host} --with-gnu-as --with-gnu-ld --disable-libmudflap --enable-lto --enable-shared --without-included-gettext --enable-nls --with-system-zlib --disable-sjlj-exceptions --enable-gnu-unique-object --enable-linker-build-id --disable-libstdcxx-pch --enable-c99 --enable-clocale=gnu --enable-libstdcxx-debug --enable-long-long --with-cloog=no --with-ppl=no --with-isl=no --disable-multilib --enable-fix-cortex-a53-835769 --enable-fix-cortex-a53-843419 --with-arch=armv8-a --enable-threads=posix --enable-multiarch --enable-libstdcxx-time=yes --enable-gnu-indirect-function --with-sysroot=${local_builds}/destdir/${host}/aarch64-linux-gnu/libc --enable-checking=release --disable-bootstrap --enable-languages=c,c++,fortran,lto"

# Component data for glibc
glibc_url=http://git.linaro.org/git/toolchain
glibc_branch=master
glibc_revision=f2e06656d04a9fcb0603802a4f8ce7aa3a1f055e
glibc_filespec=glibc.git
glibc_makeflags="PARALLELMFLAGS=-j32"
glibc_mingw_only="no"
glibc_linuxhost_only="no"
glibc_configure="--disable-profile --without-gd --enable-obsolete-rpc --with-headers=${local_builds}/destdir/${host}/aarch64-linux-gnu/libc/usr/include libc_cv_forced_unwind=yes libc_cv_c_cleanup=yes --without-selinux --disable-werror"

# Component data for gdb
gdb_url=http://git.linaro.org/git/toolchain
gdb_branch=master
gdb_revision=66468343379e535c6804a075709b5b49b09c6ed8
gdb_filespec=binutils-gdb.git
gdb_makeflags="all-gdb"
gdb_mingw_only="no"
gdb_linuxhost_only="no"
gdb_configure="--with-gnu-ld --enable-plugins --enable-tui --with-pkgversion=Linaro_GDB-2021.10 --disable-gas --disable-binutils --disable-elfcpp --disable-ld --disable-gold --disable-gprof --with-python=python3 --disable-werror"
gdb_mingw_extraconf="--disable-tui --with-python=${local_snapshots}/python-2.7.4-mingw32 CFLAGS=-I${local_builds}/destdir/${host}/usr/include LDFLAGS=-L${local_builds}/destdir/${host}/usr/lib"
gdb_staticlink="yes"

# Component data for gdbserver
gdbserver_url=http://git.linaro.org/git/toolchain
gdbserver_branch=master
gdbserver_revision=66468343379e535c6804a075709b5b49b09c6ed8
gdbserver_filespec=binutils-gdb.git
gdbserver_makeflags="all-gdbserver"
gdbserver_mingw_only="no"
gdbserver_linuxhost_only="no"
gdbserver_configure="--with-gnu-ld --enable-plugins --enable-tui --with-pkgversion=Linaro_GDB-2021.10 --disable-gas --disable-binutils --disable-elfcpp --disable-ld --disable-gold --disable-gprof --with-python=python3"
gdbserver_staticlink="yes"

# Component data for qemu
qemu_url=http://gitlab.com/qemu-project
qemu_branch=master
qemu_revision=ca61fa4b803e5d0abaf6f1ceb690f23bb78a4def
qemu_filespec=qemu.git
qemu_mingw_only="no"
qemu_linuxhost_only="yes"
qemu_configure="--target-list=aarch64-linux-user,aarch64-softmmu"
qemu_staticlink="no"


clibrary=glibc
target=aarch64-linux-gnu
manifestid=1fca4a9cd786e87f99a697d61a8096f9619c5eb8

 ##############################################################################
 # Everything below this line is only for informational purposes for developers
 ##############################################################################

# Build machine data
build: linux
host: x86_64-pc-linux-gnu
kernel: 4.15.0-88-generic
hostname: 6f09a8d676a0
distribution: focal
host_gcc: gcc version 9.3.0 (Ubuntu 9.3.0-17ubuntu1~20.04) 

# These aren't used in the repeat build. just a sanity check for developers
build directory: /home/tcwg-buildslave/workspace/tcwg-gnu-build/_build/builds
sysroot directory: /home/tcwg-buildslave/workspace/tcwg-gnu-build/_build/builds/destdir/x86_64-pc-linux-gnu/aarch64-linux-gnu
snapshots directory: /home/tcwg-buildslave/workspace/tcwg-gnu-build/snapshots
git reference directory: /home/tcwg-buildslave/snapshots-ref

abe_url=https://git-us.linaro.org/toolchain
abe_branch=branch=
abe_revision=531aa6bc406c4adc27b8fad6ca9d4a5c651df840
abe_filespec=abe.git
abe_configure="--with-local-snapshots=${local_snapshots} --with-git-reference-dir=/home/tcwg-buildslave/snapshots-ref"

--------------------- gcc ----------------------
commit 6496ae5c9651206c9de43f63018a549a2ef2244e
Author: Richard Biener <rguenther@suse.de>
Date:   Wed Oct 6 11:02:38 2021 +0200

    Properly parse invariant &MEM addresses in the GIMPLE FE
    
    Currently the frontend rejects those addresses as not lvalues
    because the C frontend doens't expect MEM_REF or TARGET_MEM_REF
    to appear (but they would be valid lvalues there).  The following
    fixes that by amending lvalue_p.
    
    The change also makes the dumping of the source of the testcase
    valid for the GIMPLE FE by not eliding the '&' when dumping
    string literals.
    
    2021-10-06  Richard Biener  <rguenther@suse.de>
    
    gcc/c/
            * c-typeck.c (lvalue_p): Also allow MEM_REF and TARGET_MEM_REF.
    
    gcc/
            * tree-pretty-print.c (dump_generic_node): Do not elide
            printing '&' when dumping with -gimple.
    
    gcc/testsuite/
            * gcc.dg/gimplefe-47.c: New testcase.

--------------------- binutils ----------------------
commit 66468343379e535c6804a075709b5b49b09c6ed8
Author: Alan Modra <amodra@gmail.com>
Date:   Thu Oct 7 11:19:53 2021 +1030

    PR28423, use-after-free in objdump
    
    XCOFF archives use a bi-directional linked list for file members.  So
    one member points to both the previous member and the next member.
    Members may not be sequentially ordered in the file.  This of course
    is over-engineered nonsense and an attractive target for fuzzers.
    (There is even a free list of members!)  The testcase in PR28423 is an
    XCOFF archive with one member pointing to itself, which results in
    lots of bad behaviour.  For example, "ar t" never terminates.
    
    The use-after-free with "objdump -r" happens like this:  The first
    archive element is opened, its symbols are read and "canonicalized"
    for objdump, then relocations are read and printed.  Those relocations
    use the canonicalized symbols, and also happen to be cached by the
    coff bfd backend support.  objdump frees the symbols.  The next
    archive element is then opened.  This must be done before the first
    element is closed, because finding the next element uses data held in
    the currect element.  Unfortunately the next element happens to be the
    original, so we aren't opening, we're reopening a bfd which has cached
    data.  When the relocations are printed they use the cached copy
    containing references to the freed canonical symbols.
    
    This patch adds a little sanity checking to the XCOFF "open next
    archive file" support, so that it rejects archive members pointing at
    themselves.  That is sufficient to cure this problem.  Anything more
    is overkill.  If someone deliberately fuzzes an XCOFF archive with an
    element loop then reports an "ar" bug when it runs forever, they will
    find their bug report closed WONTFIX.
    
            PR 28423
            * coff-rs6000.c (_bfd_xcoff_read_ar_hdr): Save size occupied
            by member name in areltdata.extra_size.
            (_bfd_xcoff_openr_next_archived_file): Sanity check nextoff.
            * coff64-rs6000.c (xcoff64_openr_next_archived_file): Call
            _bfd_xcoff_openr_next_archived_file.

--------------------- glibc ----------------------
commit f2e06656d04a9fcb0603802a4f8ce7aa3a1f055e
Author: Stefan Liebler <stli@linux.ibm.com>
Date:   Tue Oct 5 16:14:10 2021 +0200

    S390: Add PCI_MIO and SIE HWCAPs
    
    Both new HWCAPs were introduced in these kernel commits:
    - 7e8403ecaf884f307b627f3c371475913dd29292
      "s390: add HWCAP_S390_PCI_MIO to ELF hwcaps"
    - 7e82523f2583e9813e4109df3656707162541297
      "s390/hwcaps: make sie capability regular hwcap"
    
    Also note that the kernel commit 511ad531afd4090625def4d9aba1f5227bd44b8e
    "s390/hwcaps: shorten HWCAP defines" has shortened the prefix of the macros
    from "HWCAP_S390_" to "HWCAP_".  For compatibility reasons, we do not
    change the prefix in public glibc header file.

--------------------- abe ----------------------
commit 531aa6bc406c4adc27b8fad6ca9d4a5c651df840
Author: Maxim Kuvyrkov <maxim.kuvyrkov@linaro.org>
Date:   Thu Aug 19 09:07:41 2021 +0000

    abe.sh: Add, don't overwrite, to RUNTESTFLAGS on "--set runtestflags=foo"
    
    ... and rename $override_runtestflags to $extra_runtestflags.
    
    Change-Id: Id507278336485df2be3f89d229628ea81a11c0fd

